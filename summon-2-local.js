!function(){function e(n,t,o){function r(u,i){if(!t[u]){if(!n[u]){var s="function"==typeof require&&require;if(!i&&s)return s(u,!0);if(a)return a(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[u]={exports:{}};n[u][0].call(l.exports,function(e){var t=n[u][1][e];return r(t||e)},l,l.exports,e,n,t,o)}return t[u].exports}for(var a="function"==typeof require&&require,u=0;u<o.length;u++)r(o[u]);return r}return e}()({1:[function(e,n,t){"use strict";function o(e){var n=e.match(/(\d\d)?\/?(\d\d)?\/?(\d\d\d\d)$/);return n&&(e=n[3]+(n[1]?"-"+n[1]+(n[2]?"-"+n[2]:""):"")),e}angular.module("summonApp").run(["$templateCache",function(e){var n="/assets/documentSummary.html",t=e.get(n);jQuery(t)}]),_.mixin({joinArray:function(e){return e.join(", ")}}),angular.module("summonApp.directives").directive("documentSummary",function(){return{link:function(e,n){var t=window.location.href,r="https://unt.az1.qualtrics.com/jfe/form/SV_bdw4fydzCuTGPDD",a="https://ui.library.unt.edu/summon-hack/more_sources.php",u=e.document,i=u.full_title.replace(/<[^>]*>/g,""),s=_.chain(u.authors).pluck("fullname").joinArray().value(),c=e.summary,l=u.publication_title,d=void 0==u.issns?"":u.issns.join(", "),p=o(u.publication_date),f=void 0==u.volumes?"":u.volumes.join(", "),m=void 0==u.issues?"":u.issues.join(", "),y=void 0==u.start_pages?"":u.start_pages.join(", "),h=u.pages,j=u.content_type,v=u.has_fulltext?u.fulltext_link:"",x="?article_title="+encodeURIComponent(i)+"&article_authors="+encodeURIComponent(s)+"&publication="+encodeURIComponent(c)+"&journal_title="+encodeURIComponent(l)+"&issn="+encodeURIComponent(d)+"&date="+encodeURIComponent(p)+"&volume="+encodeURIComponent(f)+"&issue="+encodeURIComponent(m)+"&pages="+(y?encodeURIComponent(y):encodeURIComponent(h))+"&content_type="+encodeURIComponent(j)+"&url="+encodeURIComponent(v)+"&results_url="+encodeURIComponent(t),b=r+x,C=a+x,g=jQuery('<a class="fancybox" href="'+b+'" title="Report Broken Full-Text Link">Report Broken Link</a>'),R=jQuery('<a class="fancybox" href="'+C+'" title="Check More Sources to Get the Full Text of this Article">Check More Sources</a>');if(u.has_fulltext){var U=n.find(".docFooter").find(".row").last().find("div");U.append(jQuery('<div class="unt-more-sources"></div>').append(R)),U.append(jQuery('<div class="unt-rbl"></div>').append(g));var k=680+40*(Math.floor(i.length/80)+Math.floor(s.length/80)+Math.floor(c.length/80)),I=k-230;jQuery().fancybox({selector:".unt-rbl .fancybox",type:"iframe",title:"",iframe:{css:{height:k}},arrows:!1,infobar:!1,smallBtn:!0}),jQuery().fancybox({selector:".unt-more-sources .fancybox",type:"iframe",title:"",iframe:{css:{height:I}},arrows:!1,infobar:!1,smallBtn:!0})}}}}),jQuery(function(){jQuery("head").append(jQuery('<link rel="stylesheet" type="text/css" />').attr("href","https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.6/jquery.fancybox.min.css")),jQuery("head").append('<link href="https://ui.library.unt.edu/summon-hack/summon-2-styles-local.css?v=2" media="all" rel="stylesheet" type="text/css" />'),jQuery.ajax({url:"https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.6/jquery.fancybox.min.js",dataType:"script",cache:!0}).done(function(){var e=jQuery("a:contains('Help')");e.length&&e.fancybox({type:"iframe"})})})},{}]},{},[1]);
//# sourceMappingURL=summon-2-local.js.map
